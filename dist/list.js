var AppDOM=function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,__webpack_require__),r.l=!0,r.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.i=function(e){return e},__webpack_require__.d=function(e,t,n){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},__webpack_require__.n=function(e){var t=e&&e.__esModule?function getDefault(){return e.default}:function getModuleExports(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=10)}([function(e,t,n){"use strict";function __extends(e,t){function __(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}function __rest(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n}function __decorate(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u}function __param(e,t){return function(n,r){t(n,r,e)}}function __metadata(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function __awaiter(e,t,n,r){return new(n||(n=Promise))(function(o,i){function fulfilled(e){try{step(r.next(e))}catch(e){i(e)}}function rejected(e){try{step(r.throw(e))}catch(e){i(e)}}function step(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(fulfilled,rejected)}step((r=r.apply(e,t||[])).next())})}function __generator(e,t){function verb(e){return function(t){return step([e,t])}}function step(i){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,r=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(o=u.trys,!(o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var n,r,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i}function __exportStar(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function __values(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),u=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)u.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return u}function __spread(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(__read(arguments[t]));return e}function __await(e){return this instanceof __await?(this.v=e,this):new __await(e)}function __asyncGenerator(e,t,n){function verb(e){o[e]&&(r[e]=function(t){return new Promise(function(n,r){i.push([e,t,n,r])>1||resume(e,t)})})}function resume(e,t){try{step(o[e](t))}catch(e){settle(i[0][3],e)}}function step(e){e.value instanceof __await?Promise.resolve(e.value.v).then(fulfill,reject):settle(i[0][2],e)}function fulfill(e){resume("next",e)}function reject(e){resume("throw",e)}function settle(e,t){e(t),i.shift(),i.length&&resume(i[0][0],i[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},verb("next"),verb("throw"),verb("return"),r[Symbol.asyncIterator]=function(){return this},r}function __asyncDelegator(e){function verb(r,o){e[r]&&(t[r]=function(t){return(n=!n)?{value:__await(e[r](t)),done:"return"===r}:o?o(t):t})}var t,n;return t={},verb("next"),verb("throw",function(e){throw e}),verb("return"),t[Symbol.iterator]=function(){return this},t}function __asyncValues(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):"function"==typeof __values?__values(e):e[Symbol.iterator]()}Object.defineProperty(t,"__esModule",{value:!0}),t.__extends=__extends,n.d(t,"__assign",function(){return o}),t.__rest=__rest,t.__decorate=__decorate,t.__param=__param,t.__metadata=__metadata,t.__awaiter=__awaiter,t.__generator=__generator,t.__exportStar=__exportStar,t.__values=__values,t.__read=__read,t.__spread=__spread,t.__await=__await,t.__asyncGenerator=__asyncGenerator,t.__asyncDelegator=__asyncDelegator,t.__asyncValues=__asyncValues;/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},o=Object.assign||function __assign(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(2),i=function(e){function AppElementNode(t){return e.call(this,document.createElement(t))||this}return r.__extends(AppElementNode,e),Object.defineProperty(AppElementNode.prototype,"style",{get:function(){return this.element.style},enumerable:!0,configurable:!0}),Object.defineProperty(AppElementNode.prototype,"title",{get:function(){return this.element.title},set:function(e){this.element.title=e},enumerable:!0,configurable:!0}),AppElementNode.prototype.addEventListener=function(e,t,n){return this.element.addEventListener(e,t,n),this},AppElementNode.prototype.removeEventListener=function(e,t,n){return this.element.removeEventListener(e,t,n),this},AppElementNode}(o.AppNode);t.AppElementNode=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function AppNode(e){if(this.parent=null,!(e instanceof HTMLElement||e instanceof Text))throw new Error("Cannot construct AppNode");this.element=e}return AppNode.prototype.remove=function(){return this.parent&&this.parent.removeChild(this),this},AppNode.prototype.insertBefore=function(e){var t=e.parent;if(t){this.remove(),t.element.insertBefore(this.element,e.element);var n=t.children.indexOf(e);t.children.splice(n,0,this),this.parent=t}return this},AppNode.prototype.insertAfter=function(e){var t=e.parent;if(t){this.remove(),t.element.insertBefore(this.element,e.element.nextSibling);var n=t.children.indexOf(e);t.children.splice(n+1,0,this),this.parent=t}return this},AppNode.prototype.appendToDOM=function(e){return e.appendChild(this.element),this},AppNode}();t.AppNode=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(2),i=function(e){function AppText(t){return void 0===t&&(t=""),e.call(this,document.createTextNode(t))||this}return r.__extends(AppText,e),Object.defineProperty(AppText.prototype,"text",{get:function(){return this.element.textContent},set:function(e){this.element.textContent=e},enumerable:!0,configurable:!0}),AppText}(o.AppNode);t.AppText=i},function(e,t,n){"use strict";function __export(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),__export(n(2)),__export(n(1)),__export(n(3)),__export(n(5)),__export(n(6)),__export(n(7)),__export(n(8))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(3),i=n(1),u=function(e){function AppElement(t,n){var i=e.call(this,t)||this;if(i.children=[],Array.isArray(n))try{for(var u=r.__values(n),l=u.next();!l.done;l=u.next()){var a=l.value;i.appendChild(a)}}catch(e){p={error:e}}finally{try{l&&!l.done&&(c=u.return)&&c.call(u)}finally{if(p)throw p.error}}else n&&i.appendChild(new o.AppText(n));return i;var p,c}return r.__extends(AppElement,e),Object.defineProperty(AppElement.prototype,"elementChildren",{get:function(){return this.children.filter(function(e){return e instanceof i.AppElementNode})},enumerable:!0,configurable:!0}),Object.defineProperty(AppElement.prototype,"firstChild",{get:function(){return this.children[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(AppElement.prototype,"lastChild",{get:function(){var e=this.children;return e[e.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(AppElement.prototype,"firstElementChild",{get:function(){return this.elementChildren[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(AppElement.prototype,"lastElementChild",{get:function(){var e=this.elementChildren;return e[e.length-1]||null},enumerable:!0,configurable:!0}),AppElement.prototype.removeChild=function(e){this.element.removeChild(e.element);var t=this.children.indexOf(e);return this.children.splice(t,1),e.parent=null,this},AppElement.prototype.appendChild=function(e){return this.element.appendChild(e.element),this.children.push(e),e.parent=this,this},AppElement}(i.AppElementNode);t.AppElement=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=function(e){function AppImage(t,n){var r=e.call(this,"img")||this;return n&&(r.lowsrc=n),r.src=t,r}return r.__extends(AppImage,e),Object.defineProperty(AppImage.prototype,"src",{get:function(){return this.element.src},set:function(e){this.element.src=e},enumerable:!0,configurable:!0}),Object.defineProperty(AppImage.prototype,"lowsrc",{get:function(){return this.element.lowsrc},set:function(e){this.element.lowsrc=e},enumerable:!0,configurable:!0}),AppImage}(o.AppElementNode);t.AppImage=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=function(e){function AppInput(t){void 0===t&&(t="text");var n=e.call(this,"input")||this;return n.element.type=t,n}return r.__extends(AppInput,e),Object.defineProperty(AppInput.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(AppInput.prototype,"defaultValue",{get:function(){return this.element.defaultValue},set:function(e){this.element.defaultValue=e},enumerable:!0,configurable:!0}),Object.defineProperty(AppInput.prototype,"checked",{get:function(){return this.element.checked},set:function(e){this.element.checked=e},enumerable:!0,configurable:!0}),Object.defineProperty(AppInput.prototype,"defaultChecked",{get:function(){return this.element.defaultChecked},set:function(e){this.element.defaultChecked=e},enumerable:!0,configurable:!0}),AppInput}(o.AppElementNode);t.AppInput=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(1),i=function(e){function AppTextArea(t){var n=e.call(this,"textarea")||this;return n.value=t,n}return r.__extends(AppTextArea,e),Object.defineProperty(AppTextArea.prototype,"value",{get:function(){return this.element.value},set:function(e){this.element.value=e},enumerable:!0,configurable:!0}),Object.defineProperty(AppTextArea.prototype,"defaultValue",{get:function(){return this.element.defaultValue},set:function(e){this.element.defaultValue=e},enumerable:!0,configurable:!0}),AppTextArea}(o.AppElementNode);t.AppTextArea=i},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4),i=function(e){function ListItem(t){var n=e.call(this,"li")||this,r=n.checkbox=new o.AppInput("checkbox"),i=n.label=new o.AppElement("label",t),u=n.button=new o.AppElement("button","X");n.appendChild(r),n.appendChild(i),n.appendChild(u);var l=n;return u.addEventListener("click",function(){l.remove()},!1),n}return r.__extends(ListItem,e),ListItem}(o.AppElement);t.ListItem=i;var u=function(e){function List(){var t=e.call(this,"list")||this,n=t.input=new o.AppInput,r=t.list=new o.AppElement("ul");return t.appendChild(n),t.appendChild(r),n.addEventListener("change",function(){r.appendChild(new i(n.value)),n.value=""},!1),t}return r.__extends(List,e),List}(o.AppElement);t.List=u,(new u).appendToDOM(document.body)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZGlzdC9saXN0LmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAxNjk2ZjkwNzQyYTYxYTU3Y2UwNyIsIndlYnBhY2s6Ly8vLi9+L3RzbGliL3RzbGliLmVzNi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL0FwcEVsZW1lbnROb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvQXBwTm9kZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL0FwcFRleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvQXBwRWxlbWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbGliL0FwcEltYWdlLnRzIiwid2VicGFjazovLy8uL3NyYy9saWIvQXBwSW5wdXQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xpYi9BcHBUZXh0QXJlYS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXhhbXBsZS9saXN0LnRzIl0sIm5hbWVzIjpbIkFwcERPTSIsIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwidmFsdWUiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsImdldERlZmF1bHQiLCJnZXRNb2R1bGVFeHBvcnRzIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiX193ZWJwYWNrX2V4cG9ydHNfXyIsIl9fZXh0ZW5kcyIsImIiLCJfXyIsInRoaXMiLCJjb25zdHJ1Y3RvciIsImV4dGVuZFN0YXRpY3MiLCJjcmVhdGUiLCJfX3Jlc3QiLCJlIiwidCIsImluZGV4T2YiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJsZW5ndGgiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsInRhcmdldCIsImtleSIsImRlc2MiLCJhcmd1bWVudHMiLCJyIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJfX21ldGFkYXRhIiwibWV0YWRhdGFLZXkiLCJtZXRhZGF0YVZhbHVlIiwibWV0YWRhdGEiLCJfX2F3YWl0ZXIiLCJ0aGlzQXJnIiwiX2FyZ3VtZW50cyIsIlAiLCJnZW5lcmF0b3IiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsImZ1bGZpbGxlZCIsInN0ZXAiLCJuZXh0IiwicmVqZWN0ZWQiLCJ0aHJvdyIsInJlc3VsdCIsImRvbmUiLCJ0aGVuIiwiYXBwbHkiLCJfX2dlbmVyYXRvciIsImJvZHkiLCJ2ZXJiIiwidiIsIm9wIiwiZiIsIlR5cGVFcnJvciIsIl8iLCJ5IiwibGFiZWwiLCJvcHMiLCJwb3AiLCJ0cnlzIiwicHVzaCIsImciLCJzZW50IiwicmV0dXJuIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfX2V4cG9ydFN0YXIiLCJfX3ZhbHVlcyIsIl9fcmVhZCIsImFyIiwiZXJyb3IiLCJfX3NwcmVhZCIsImNvbmNhdCIsIl9fYXdhaXQiLCJfX2FzeW5jR2VuZXJhdG9yIiwiYSIsInEiLCJyZXN1bWUiLCJzZXR0bGUiLCJmdWxmaWxsIiwic2hpZnQiLCJhc3luY0l0ZXJhdG9yIiwiX19hc3luY0RlbGVnYXRvciIsIl9fYXN5bmNWYWx1ZXMiLCJfX2Fzc2lnbiIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJhc3NpZ24iLCJ0c2xpYl8xIiwiQXBwTm9kZV8xIiwiQXBwRWxlbWVudE5vZGUiLCJfc3VwZXIiLCJ0YWdOYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZWxlbWVudCIsInN0eWxlIiwidGl0bGUiLCJzZXQiLCJ2YWwiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZ0TmFtZSIsImxpc3RlbmVyIiwiY2FwdHVyZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJBcHBOb2RlIiwicGFyZW50IiwiSFRNTEVsZW1lbnQiLCJUZXh0IiwiRXJyb3IiLCJyZW1vdmUiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsInNpYmxpbmciLCJwb3MiLCJjaGlsZHJlbiIsInNwbGljZSIsImluc2VydEFmdGVyIiwibmV4dFNpYmxpbmciLCJhcHBlbmRUb0RPTSIsImRvbSIsImFwcGVuZENoaWxkIiwiQXBwVGV4dCIsInRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsInRleHRDb250ZW50IiwiX19leHBvcnQiLCJBcHBUZXh0XzEiLCJBcHBFbGVtZW50Tm9kZV8xIiwiQXBwRWxlbWVudCIsIl90aGlzIiwiaXNBcnJheSIsImNoaWxkcmVuXzEiLCJjaGlsZHJlbl8xXzEiLCJjaGlsZCIsImVfMV8xIiwiZV8xIiwiX2EiLCJmaWx0ZXIiLCJlbGVtZW50Q2hpbGRyZW4iLCJBcHBJbWFnZSIsInNyYyIsImxvd3NyYyIsIkFwcElucHV0IiwidHlwZSIsImRlZmF1bHRWYWx1ZSIsImNoZWNrZWQiLCJkZWZhdWx0Q2hlY2tlZCIsIkFwcFRleHRBcmVhIiwiX18xIiwiTGlzdEl0ZW0iLCJjaGVja2JveCIsImJ1dHRvbiIsInNlbGYiLCJMaXN0IiwiaW5wdXQiLCJsaXN0Il0sIm1hcHBpbmdzIjoiQUFBQSxHQUFJQSxRQUNLLFNBQVVDLEdDR25CLFFBQUFDLHFCQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBSSxFQUFBSixFQUNBSyxHQUFBLEVBQ0FILFdBVUEsT0FOQUosR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgscUJBR0FJLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUF2QkEsR0FBQUQsS0ErREEsT0FuQ0FGLHFCQUFBUSxFQUFBVCxFQUdBQyxvQkFBQVMsRUFBQVAs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QixDWHVvQlAsT1dyb0JKc0IsR0FBT3BELGlCQUFpQixRQUFTLFdBQy9CcUQsRUFBSzNDLFdBQ0osR1htb0JRb0IsRVdqb0JmLE1BdEI4QjFDLEdBQUF6RixVQUFBdUosU0FBQTNELEdBc0I5QjJELFVBdEI4QkQsRUFBQXBCLFdBQWpCOUosR0FBQW1MLFVBd0JiLElBQUFJLEdBQUEsU0FBQS9ELEdBSUUsUUFBQStELFFBQUEsR0FBQXhCLEdBQ0V2QyxFQUFBcEgsS0FBQTJCLEtBQU0sU0FBT0EsS0FFVHlKLEVBQVF6QixFQUFLeUIsTUFBUSxHQUFJTixHQUFBTixTQUN6QmEsRUFBTzFCLEVBQUswQixLQUFPLEdBQUlQLEdBQUFwQixXQUFXLEtYd29CbEMsT1d0b0JKQyxHQUFLVCxZQUFZa0MsR0FDakJ6QixFQUFLVCxZQUFZbUMsR0FFakJELEVBQU12RCxpQkFBaUIsU0FBVSxXQUMvQndELEVBQUtuQyxZQUFZLEdBQUk2QixHQUFTSyxFQUFNakwsUUFDcENpTCxFQUFNakwsTUFBUSxLQUNiLEdYZ29CUXdKLEVXOW5CZixNQWxCMEIxQyxHQUFBekYsVUFBQTJKLEtBQUEvRCxHQWtCMUIrRCxNQWxCMEJMLEVBQUFwQixXQUFiOUosR0FBQXVMLFFBcUJGLEdBQUlBLElBRVZuQyxZQUFZMUIsU0FBUzlDIiwiZmlsZSI6Ii4vZGlzdC9saXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEFwcERPTSA9XG4vKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbi8qKioqKiovIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbi8qKioqKiovIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbi8qKioqKiovIFx0XHRcdH0pO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fd2VicGFja19leHBvcnRzX18sIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcIl9fZXh0ZW5kc1wiXSA9IF9fZXh0ZW5kcztcbi8qIGhhcm1vbnkgZXhwb3J0IChiaW5kaW5nKSAqLyBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoX193ZWJwYWNrX2V4cG9ydHNfXywgXCJfX2Fzc2lnblwiLCBmdW5jdGlvbigpIHsgcmV0dXJuIF9fYXNzaWduOyB9KTtcbi8qIGhhcm1vbnkgZXhwb3J0IChpbW11dGFibGUpICovIF9fd2VicGFja19leHBvcnRzX19bXCJfX3Jlc3RcIl0gPSBfX3Jlc3Q7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiX19kZWNvcmF0ZVwiXSA9IF9fZGVjb3JhdGU7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiX19wYXJhbVwiXSA9IF9fcGFyYW07XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiX19tZXRhZGF0YVwiXSA9IF9fbWV0YWRhdGE7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiX19hd2FpdGVyXCJdID0gX19hd2FpdGVyO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcIl9fZ2VuZXJhdG9yXCJdID0gX19nZW5lcmF0b3I7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiX19leHBvcnRTdGFyXCJdID0gX19leHBvcnRTdGFyO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcIl9fdmFsdWVzXCJdID0gX192YWx1ZXM7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiX19yZWFkXCJdID0gX19yZWFkO1xuLyogaGFybW9ueSBleHBvcnQgKGltbXV0YWJsZSkgKi8gX193ZWJwYWNrX2V4cG9ydHNfX1tcIl9fc3ByZWFkXCJdID0gX19zcHJlYWQ7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiX19hd2FpdFwiXSA9IF9fYXdhaXQ7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiX19hc3luY0dlbmVyYXRvclwiXSA9IF9fYXN5bmNHZW5lcmF0b3I7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiX19hc3luY0RlbGVnYXRvclwiXSA9IF9fYXN5bmNEZWxlZ2F0b3I7XG4vKiBoYXJtb255IGV4cG9ydCAoaW1tdXRhYmxlKSAqLyBfX3dlYnBhY2tfZXhwb3J0c19fW1wiX19hc3luY1ZhbHVlc1wiXSA9IF9fYXN5bmNWYWx1ZXM7XG4vKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG5cclxuZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxudmFyIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZShyZXN1bHQudmFsdWUpOyB9KS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0geVtvcFswXSAmIDIgPyBcInJldHVyblwiIDogb3BbMF0gPyBcInRocm93XCIgOiBcIm5leHRcIl0pICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gWzAsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7ICB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChvW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9OyB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl07XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKTtcclxufVxuXG4vKioqLyB9KSxcbi8qIDEgKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBBcHBOb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDIpO1xudmFyIEFwcEVsZW1lbnROb2RlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBcHBFbGVtZW50Tm9kZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcHBFbGVtZW50Tm9kZSh0YWdOYW1lKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzLCBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpKSB8fCB0aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwRWxlbWVudE5vZGUucHJvdG90eXBlLCBcInN0eWxlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnN0eWxlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwRWxlbWVudE5vZGUucHJvdG90eXBlLCBcInRpdGxlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnRpdGxlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC50aXRsZSA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQXBwRWxlbWVudE5vZGUucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZ0TmFtZSwgbGlzdGVuZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZ0TmFtZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIEFwcEVsZW1lbnROb2RlLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGV2dE5hbWUsIGxpc3RlbmVyLCBjYXB0dXJlKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGV2dE5hbWUsIGxpc3RlbmVyLCBjYXB0dXJlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gQXBwRWxlbWVudE5vZGU7XG59KEFwcE5vZGVfMS5BcHBOb2RlKSk7XG5leHBvcnRzLkFwcEVsZW1lbnROb2RlID0gQXBwRWxlbWVudE5vZGU7XG5cblxuLyoqKi8gfSksXG4vKiAyICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgQXBwTm9kZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQXBwTm9kZShlbGVtZW50KSB7XG4gICAgICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCB8fCBlbGVtZW50IGluc3RhbmNlb2YgVGV4dCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBBcHBOb2RlJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQXBwTm9kZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXBwTm9kZS5wcm90b3R5cGUuaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKHNpYmxpbmcpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9IHNpYmxpbmcucGFyZW50O1xuICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgICAgICAgcGFyZW50LmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCwgc2libGluZy5lbGVtZW50KTtcbiAgICAgICAgICAgIHZhciBwb3MgPSBwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihzaWJsaW5nKTtcbiAgICAgICAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UocG9zLCAwLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXBwTm9kZS5wcm90b3R5cGUuaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiAoc2libGluZykge1xuICAgICAgICB2YXIgcGFyZW50ID0gc2libGluZy5wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgICAgICAgICBwYXJlbnQuZWxlbWVudC5pbnNlcnRCZWZvcmUodGhpcy5lbGVtZW50LCBzaWJsaW5nLmVsZW1lbnQubmV4dFNpYmxpbmcpO1xuICAgICAgICAgICAgdmFyIHBvcyA9IHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKHNpYmxpbmcpO1xuICAgICAgICAgICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZShwb3MgKyAxLCAwLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXBwTm9kZS5wcm90b3R5cGUuYXBwZW5kVG9ET00gPSBmdW5jdGlvbiAoZG9tKSB7XG4gICAgICAgIGRvbS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBBcHBOb2RlO1xufSgpKTtcbmV4cG9ydHMuQXBwTm9kZSA9IEFwcE5vZGU7XG5cblxuLyoqKi8gfSksXG4vKiAzICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgQXBwTm9kZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygyKTtcbnZhciBBcHBUZXh0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBcHBUZXh0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFwcFRleHQodGV4dCkge1xuICAgICAgICBpZiAodGV4dCA9PT0gdm9pZCAwKSB7IHRleHQgPSAnJzsgfVxuICAgICAgICByZXR1cm4gX3N1cGVyLmNhbGwodGhpcywgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpIHx8IHRoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBUZXh0LnByb3RvdHlwZSwgXCJ0ZXh0XCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnRleHRDb250ZW50O1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIEFwcFRleHQ7XG59KEFwcE5vZGVfMS5BcHBOb2RlKSk7XG5leHBvcnRzLkFwcFRleHQgPSBBcHBUZXh0O1xuXG5cbi8qKiovIH0pLFxuLyogNCAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuZnVuY3Rpb24gX19leHBvcnQobSkge1xuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcbn1cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMikpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXygxKSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDMpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oNSkpO1xuX19leHBvcnQoX193ZWJwYWNrX3JlcXVpcmVfXyg2KSk7XG5fX2V4cG9ydChfX3dlYnBhY2tfcmVxdWlyZV9fKDcpKTtcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oOCkpO1xuXG5cbi8qKiovIH0pLFxuLyogNSAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEFwcFRleHRfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMyk7XG52YXIgQXBwRWxlbWVudE5vZGVfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMSk7XG52YXIgQXBwRWxlbWVudCA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXBwRWxlbWVudCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcHBFbGVtZW50KHRhZ05hbWUsIGNoaWxkcmVuKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHRhZ05hbWUpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNoaWxkcmVuID0gW107XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNoaWxkcmVuKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGlsZHJlbl8xID0gdHNsaWJfMS5fX3ZhbHVlcyhjaGlsZHJlbiksIGNoaWxkcmVuXzFfMSA9IGNoaWxkcmVuXzEubmV4dCgpOyAhY2hpbGRyZW5fMV8xLmRvbmU7IGNoaWxkcmVuXzFfMSA9IGNoaWxkcmVuXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGNoaWxkcmVuXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRyZW5fMV8xICYmICFjaGlsZHJlbl8xXzEuZG9uZSAmJiAoX2EgPSBjaGlsZHJlbl8xLnJldHVybikpIF9hLmNhbGwoY2hpbGRyZW5fMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChjaGlsZHJlbikge1xuICAgICAgICAgICAgX3RoaXMuYXBwZW5kQ2hpbGQobmV3IEFwcFRleHRfMS5BcHBUZXh0KGNoaWxkcmVuKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcEVsZW1lbnQucHJvdG90eXBlLCBcImVsZW1lbnRDaGlsZHJlblwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKGNoaWxkKSB7IHJldHVybiBjaGlsZCBpbnN0YW5jZW9mIEFwcEVsZW1lbnROb2RlXzEuQXBwRWxlbWVudE5vZGU7IH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwRWxlbWVudC5wcm90b3R5cGUsIFwiZmlyc3RDaGlsZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZHJlblswXSB8fCBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwRWxlbWVudC5wcm90b3R5cGUsIFwibGFzdENoaWxkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdIHx8IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBFbGVtZW50LnByb3RvdHlwZSwgXCJmaXJzdEVsZW1lbnRDaGlsZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkcmVuID0gdGhpcy5lbGVtZW50Q2hpbGRyZW47XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRyZW5bMF0gfHwgbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcEVsZW1lbnQucHJvdG90eXBlLCBcImxhc3RFbGVtZW50Q2hpbGRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMuZWxlbWVudENoaWxkcmVuO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdIHx8IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEFwcEVsZW1lbnQucHJvdG90eXBlLnJlbW92ZUNoaWxkID0gZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZC5lbGVtZW50KTtcbiAgICAgICAgdmFyIHBvcyA9IHRoaXMuY2hpbGRyZW4uaW5kZXhPZihjaGlsZCk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKHBvcywgMSk7XG4gICAgICAgIGNoaWxkLnBhcmVudCA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgQXBwRWxlbWVudC5wcm90b3R5cGUuYXBwZW5kQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgdGhpcy5lbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkLmVsZW1lbnQpO1xuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgICAgICBjaGlsZC5wYXJlbnQgPSB0aGlzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBBcHBFbGVtZW50O1xufShBcHBFbGVtZW50Tm9kZV8xLkFwcEVsZW1lbnROb2RlKSk7XG5leHBvcnRzLkFwcEVsZW1lbnQgPSBBcHBFbGVtZW50O1xuXG5cbi8qKiovIH0pLFxuLyogNiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEFwcEVsZW1lbnROb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEFwcEltYWdlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBcHBJbWFnZSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcHBJbWFnZShzcmMsIGxvd3NyYykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAnaW1nJykgfHwgdGhpcztcbiAgICAgICAgaWYgKGxvd3NyYykge1xuICAgICAgICAgICAgX3RoaXMubG93c3JjID0gbG93c3JjO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLnNyYyA9IHNyYztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwSW1hZ2UucHJvdG90eXBlLCBcInNyY1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5zcmM7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnNyYyA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcEltYWdlLnByb3RvdHlwZSwgXCJsb3dzcmNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQubG93c3JjO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5sb3dzcmMgPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBBcHBJbWFnZTtcbn0oQXBwRWxlbWVudE5vZGVfMS5BcHBFbGVtZW50Tm9kZSkpO1xuZXhwb3J0cy5BcHBJbWFnZSA9IEFwcEltYWdlO1xuXG5cbi8qKiovIH0pLFxuLyogNyAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIHRzbGliXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xudmFyIEFwcEVsZW1lbnROb2RlXzEgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDEpO1xudmFyIEFwcElucHV0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBcHBJbnB1dCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBcHBJbnB1dCh0eXBlKSB7XG4gICAgICAgIGlmICh0eXBlID09PSB2b2lkIDApIHsgdHlwZSA9ICd0ZXh0JzsgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAnaW5wdXQnKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5lbGVtZW50LnR5cGUgPSB0eXBlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBJbnB1dC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQudmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnZhbHVlID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwSW5wdXQucHJvdG90eXBlLCBcImRlZmF1bHRWYWx1ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudC5kZWZhdWx0VmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRlZmF1bHRWYWx1ZSA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcElucHV0LnByb3RvdHlwZSwgXCJjaGVja2VkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LmNoZWNrZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmNoZWNrZWQgPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShBcHBJbnB1dC5wcm90b3R5cGUsIFwiZGVmYXVsdENoZWNrZWRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZGVmYXVsdENoZWNrZWQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmRlZmF1bHRDaGVja2VkID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gQXBwSW5wdXQ7XG59KEFwcEVsZW1lbnROb2RlXzEuQXBwRWxlbWVudE5vZGUpKTtcbmV4cG9ydHMuQXBwSW5wdXQgPSBBcHBJbnB1dDtcblxuXG4vKioqLyB9KSxcbi8qIDggKi9cbi8qKiovIChmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbnZhciB0c2xpYl8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbnZhciBBcHBFbGVtZW50Tm9kZV8xID0gX193ZWJwYWNrX3JlcXVpcmVfXygxKTtcbnZhciBBcHBUZXh0QXJlYSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXBwVGV4dEFyZWEsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXBwVGV4dEFyZWEodmFsdWUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgJ3RleHRhcmVhJykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBwVGV4dEFyZWEucHJvdG90eXBlLCBcInZhbHVlXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbGVtZW50LnZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC52YWx1ZSA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwcFRleHRBcmVhLnByb3RvdHlwZSwgXCJkZWZhdWx0VmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuZGVmYXVsdFZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5kZWZhdWx0VmFsdWUgPSB2YWw7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBBcHBUZXh0QXJlYTtcbn0oQXBwRWxlbWVudE5vZGVfMS5BcHBFbGVtZW50Tm9kZSkpO1xuZXhwb3J0cy5BcHBUZXh0QXJlYSA9IEFwcFRleHRBcmVhO1xuXG5cbi8qKiovIH0pLFxuLyogOSAqLyxcbi8qIDEwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgdHNsaWJfMSA9IF9fd2VicGFja19yZXF1aXJlX18oMCk7XG52YXIgX18xID0gX193ZWJwYWNrX3JlcXVpcmVfXyg0KTtcbnZhciBMaXN0SXRlbSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoTGlzdEl0ZW0sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTGlzdEl0ZW0odGV4dCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCAnbGknKSB8fCB0aGlzO1xuICAgICAgICB2YXIgY2hlY2tib3ggPSBfdGhpcy5jaGVja2JveCA9IG5ldyBfXzEuQXBwSW5wdXQoJ2NoZWNrYm94Jyk7XG4gICAgICAgIHZhciBsYWJlbCA9IF90aGlzLmxhYmVsID0gbmV3IF9fMS5BcHBFbGVtZW50KCdsYWJlbCcsIHRleHQpO1xuICAgICAgICB2YXIgYnV0dG9uID0gX3RoaXMuYnV0dG9uID0gbmV3IF9fMS5BcHBFbGVtZW50KCdidXR0b24nLCAnWCcpO1xuICAgICAgICBfdGhpcy5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgICAgIF90aGlzLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICAgICAgX3RoaXMuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgICAgdmFyIHNlbGYgPSBfdGhpcztcbiAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5yZW1vdmUoKTtcbiAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBMaXN0SXRlbTtcbn0oX18xLkFwcEVsZW1lbnQpKTtcbmV4cG9ydHMuTGlzdEl0ZW0gPSBMaXN0SXRlbTtcbnZhciBMaXN0ID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhMaXN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIExpc3QoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsICdsaXN0JykgfHwgdGhpcztcbiAgICAgICAgdmFyIGlucHV0ID0gX3RoaXMuaW5wdXQgPSBuZXcgX18xLkFwcElucHV0KCk7XG4gICAgICAgIHZhciBsaXN0ID0gX3RoaXMubGlzdCA9IG5ldyBfXzEuQXBwRWxlbWVudCgndWwnKTtcbiAgICAgICAgX3RoaXMuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICBfdGhpcy5hcHBlbmRDaGlsZChsaXN0KTtcbiAgICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGlzdC5hcHBlbmRDaGlsZChuZXcgTGlzdEl0ZW0oaW5wdXQudmFsdWUpKTtcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICByZXR1cm4gTGlzdDtcbn0oX18xLkFwcEVsZW1lbnQpKTtcbmV4cG9ydHMuTGlzdCA9IExpc3Q7XG52YXIgbGlzdCA9IG5ldyBMaXN0KCk7XG5saXN0LmFwcGVuZFRvRE9NKGRvY3VtZW50LmJvZHkpO1xuXG5cbi8qKiovIH0pXG4vKioqKioqLyBdKTtcblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gZGlzdC9saXN0LmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgMTY5NmY5MDc0MmE2MWE1N2NlMDciLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMClcclxuICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSB5W29wWzBdICYgMiA/IFwicmV0dXJuXCIgOiBvcFswXSA/IFwidGhyb3dcIiA6IFwibmV4dFwiXSkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbMCwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgIH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChvW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9OyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCk7XHJcbn1cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vdHNsaWIvdHNsaWIuZXM2LmpzXG4vLyBtb2R1bGUgaWQgPSAwXG4vLyBtb2R1bGUgY2h1bmtzID0gMCAxIDIiLCJpbXBvcnQge0FwcE5vZGV9IGZyb20gJy4vQXBwTm9kZSc7XG5cbmV4cG9ydCBjbGFzcyBBcHBFbGVtZW50Tm9kZSBleHRlbmRzIEFwcE5vZGUge1xuICBlbGVtZW50IDogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IodGFnTmFtZSA6IHN0cmluZykge1xuICAgIHN1cGVyKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSkpO1xuICB9XG5cbiAgZ2V0IHN0eWxlKCkge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQuc3R5bGU7XG4gIH1cblxuICBnZXQgdGl0bGUoKSB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC50aXRsZTtcbiAgfVxuXG4gIHNldCB0aXRsZSh2YWwgOiBzdHJpbmcpIHtcbiAgICB0aGlzLmVsZW1lbnQudGl0bGUgPSB2YWw7XG4gIH1cblxuICBhZGRFdmVudExpc3RlbmVyKFxuICAgIGV2dE5hbWUgOiBzdHJpbmcsXG4gICAgbGlzdGVuZXIgOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LFxuICAgIGNhcHR1cmUgOiBib29sZWFuXG4gICkgOiBBcHBFbGVtZW50Tm9kZSB7XG4gICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZ0TmFtZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICByZW1vdmVFdmVudExpc3RlbmVyKFxuICAgIGV2dE5hbWUgOiBzdHJpbmcsXG4gICAgbGlzdGVuZXIgOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0LFxuICAgIGNhcHR1cmUgOiBib29sZWFuXG4gICkgOiBBcHBFbGVtZW50Tm9kZSB7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZ0TmFtZSwgbGlzdGVuZXIsIGNhcHR1cmUpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvbGliL0FwcEVsZW1lbnROb2RlLnRzIiwiaW1wb3J0IHtBcHBFbGVtZW50fSBmcm9tICcuL0FwcEVsZW1lbnQnO1xuXG5leHBvcnQgY2xhc3MgQXBwTm9kZSB7XG4gIGVsZW1lbnQgOiAgSFRNTEVsZW1lbnQgfCBUZXh0O1xuICBwYXJlbnQgOiBBcHBFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgY29uc3RydWN0b3IoZWxlbWVudCA6IEhUTUxFbGVtZW50IHwgVGV4dCkge1xuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgfHwgZWxlbWVudCBpbnN0YW5jZW9mIFRleHQpIHtcbiAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBBcHBOb2RlJyk7XG4gICAgfVxuICB9XG5cbiAgcmVtb3ZlKCkgOiBBcHBOb2RlIHtcbiAgICBpZiAodGhpcy5wYXJlbnQpIHtcbiAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgaW5zZXJ0QmVmb3JlKHNpYmxpbmcgOiBBcHBOb2RlKSA6IEFwcE5vZGUge1xuICAgIGxldCBwYXJlbnQgPSBzaWJsaW5nLnBhcmVudDtcbiAgICBpZiAocGFyZW50KSB7XG4gICAgICB0aGlzLnJlbW92ZSgpO1xuICAgICAgcGFyZW50LmVsZW1lbnQuaW5zZXJ0QmVmb3JlKHRoaXMuZWxlbWVudCwgc2libGluZy5lbGVtZW50KTtcbiAgICAgIGxldCBwb3MgOiBudW1iZXIgPSBwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihzaWJsaW5nKTtcbiAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UocG9zLCAwLCB0aGlzKTtcblxuICAgICAgdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICBpbnNlcnRBZnRlcihzaWJsaW5nIDogQXBwTm9kZSkgOiBBcHBOb2RlIHtcbiAgICBsZXQgcGFyZW50ID0gc2libGluZy5wYXJlbnQ7XG4gICAgaWYgKHBhcmVudCkge1xuICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICAgIHBhcmVudC5lbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLmVsZW1lbnQsIHNpYmxpbmcuZWxlbWVudC5uZXh0U2libGluZyk7XG4gICAgICBsZXQgcG9zIDogbnVtYmVyID0gcGFyZW50LmNoaWxkcmVuLmluZGV4T2Yoc2libGluZyk7XG4gICAgICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHBvcyArIDEsIDAsIHRoaXMpO1xuXG4gICAgICB0aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIGFwcGVuZFRvRE9NKGRvbSA6IEhUTUxFbGVtZW50KSA6IEFwcE5vZGUge1xuICAgIGRvbS5hcHBlbmRDaGlsZCh0aGlzLmVsZW1lbnQpO1xuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvbGliL0FwcE5vZGUudHMiLCJpbXBvcnQge0FwcE5vZGV9IGZyb20gJy4vQXBwTm9kZSc7XG5cbmV4cG9ydCBjbGFzcyBBcHBUZXh0IGV4dGVuZHMgQXBwTm9kZSB7XG4gIGVsZW1lbnQgOiBUZXh0O1xuICBjb25zdHJ1Y3Rvcih0ZXh0IDogc3RyaW5nID0gJycpIHtcbiAgICBzdXBlcihkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XG4gIH1cblxuICBnZXQgdGV4dCgpIDogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC50ZXh0Q29udGVudDtcbiAgfVxuXG4gIHNldCB0ZXh0KHZhbCA6IHN0cmluZyB8IG51bGwpIHtcbiAgICB0aGlzLmVsZW1lbnQudGV4dENvbnRlbnQgPSB2YWw7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvbGliL0FwcFRleHQudHMiLCIvLyBiYXNlIE5vZGVzXG5leHBvcnQgKiBmcm9tICcuL2xpYi9BcHBOb2RlJztcbmV4cG9ydCAqIGZyb20gJy4vbGliL0FwcEVsZW1lbnROb2RlJztcblxuLy8gZGVmaW5lZCBOb2Rlc1xuZXhwb3J0ICogZnJvbSAnLi9saWIvQXBwVGV4dCc7XG5leHBvcnQgKiBmcm9tICcuL2xpYi9BcHBFbGVtZW50JztcblxuLy8gZGVmaW5lZCBFbGVtZW50c1xuZXhwb3J0ICogZnJvbSAnLi9saWIvQXBwSW1hZ2UnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvQXBwSW5wdXQnO1xuZXhwb3J0ICogZnJvbSAnLi9saWIvQXBwVGV4dEFyZWEnO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9pbmRleC50cyIsImltcG9ydCB7QXBwTm9kZX0gZnJvbSAnLi9BcHBOb2RlJztcbmltcG9ydCB7QXBwVGV4dH0gZnJvbSAnLi9BcHBUZXh0JztcbmltcG9ydCB7QXBwRWxlbWVudE5vZGV9IGZyb20gJy4vQXBwRWxlbWVudE5vZGUnO1xuXG5leHBvcnQgY2xhc3MgQXBwRWxlbWVudCBleHRlbmRzIEFwcEVsZW1lbnROb2RlIHtcbiAgZWxlbWVudCA6IEhUTUxFbGVtZW50O1xuICBjaGlsZHJlbiA6IEFwcE5vZGVbXSA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHRhZ05hbWUgOiBzdHJpbmcsIGNoaWxkcmVuPyA6IHN0cmluZyB8IEFwcE5vZGVbXSkge1xuICAgIHN1cGVyKHRhZ05hbWUpO1xuXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgICBmb3IgKGxldCBjaGlsZCBvZiBjaGlsZHJlbikge1xuICAgICAgICB0aGlzLmFwcGVuZENoaWxkKGNoaWxkKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNoaWxkcmVuKSB7XG4gICAgICB0aGlzLmFwcGVuZENoaWxkKG5ldyBBcHBUZXh0KGNoaWxkcmVuKSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGVsZW1lbnRDaGlsZHJlbigpIDogQXBwRWxlbWVudE5vZGVbXSB7XG4gICAgbGV0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbi5maWx0ZXIoY2hpbGQgPT4gY2hpbGQgaW5zdGFuY2VvZiBBcHBFbGVtZW50Tm9kZSk7XG4gICAgcmV0dXJuIDxBcHBFbGVtZW50Tm9kZVtdPiBjaGlsZHJlbjtcbiAgfVxuXG4gIGdldCBmaXJzdENoaWxkKCkgOiBBcHBOb2RlIHwgbnVsbCB7XG4gICAgbGV0IGNoaWxkcmVuID0gdGhpcy5jaGlsZHJlbjtcbiAgICByZXR1cm4gY2hpbGRyZW5bMF0gfHwgbnVsbDtcbiAgfVxuXG4gIGdldCBsYXN0Q2hpbGQoKSA6IEFwcE5vZGUgfCBudWxsIHtcbiAgICBsZXQgY2hpbGRyZW4gPSB0aGlzLmNoaWxkcmVuO1xuICAgIHJldHVybiBjaGlsZHJlbltjaGlsZHJlbi5sZW5ndGggLSAxXSB8fCBudWxsO1xuICB9XG5cbiAgZ2V0IGZpcnN0RWxlbWVudENoaWxkKCkgOiBBcHBFbGVtZW50Tm9kZSB8IG51bGwge1xuICAgIGxldCBjaGlsZHJlbiA9IHRoaXMuZWxlbWVudENoaWxkcmVuO1xuICAgIHJldHVybiBjaGlsZHJlblswXSB8fCBudWxsO1xuICB9XG5cbiAgZ2V0IGxhc3RFbGVtZW50Q2hpbGQoKSA6IEFwcEVsZW1lbnROb2RlIHwgbnVsbCB7XG4gICAgbGV0IGNoaWxkcmVuID0gdGhpcy5lbGVtZW50Q2hpbGRyZW47XG4gICAgcmV0dXJuIGNoaWxkcmVuW2NoaWxkcmVuLmxlbmd0aCAtIDFdIHx8IG51bGw7XG4gIH1cblxuICByZW1vdmVDaGlsZChjaGlsZCA6IEFwcE5vZGUpIDogQXBwRWxlbWVudCB7XG4gICAgdGhpcy5lbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkLmVsZW1lbnQpO1xuICAgIGxldCBwb3MgOiBudW1iZXIgPSB0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpO1xuICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKHBvcywgMSk7XG4gICAgY2hpbGQucGFyZW50ID0gbnVsbDtcblxuICAgIHJldHVybiB0aGlzO1xuICB9XG5cbiAgYXBwZW5kQ2hpbGQoY2hpbGQgOiBBcHBOb2RlKSA6IEFwcEVsZW1lbnQge1xuICAgIHRoaXMuZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZC5lbGVtZW50KTtcbiAgICB0aGlzLmNoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgIGNoaWxkLnBhcmVudCA9IHRoaXM7XG5cbiAgICByZXR1cm4gdGhpcztcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9saWIvQXBwRWxlbWVudC50cyIsImltcG9ydCB7QXBwRWxlbWVudE5vZGV9IGZyb20gJy4vQXBwRWxlbWVudE5vZGUnO1xuXG5leHBvcnQgY2xhc3MgQXBwSW1hZ2UgZXh0ZW5kcyBBcHBFbGVtZW50Tm9kZSB7XG4gIGVsZW1lbnQgOiBIVE1MSW1hZ2VFbGVtZW50O1xuICBjb25zdHJ1Y3RvcihzcmMgOiBzdHJpbmcsIGxvd3NyYz8gOiBzdHJpbmcpIHtcbiAgICBzdXBlcignaW1nJyk7XG5cbiAgICBpZiAobG93c3JjKSB7XG4gICAgICB0aGlzLmxvd3NyYyA9IGxvd3NyYztcbiAgICB9XG4gICAgdGhpcy5zcmMgPSBzcmM7XG4gIH1cblxuICBnZXQgc3JjKCkgOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQuc3JjO1xuICB9XG5cbiAgc2V0IHNyYyh2YWwgOiBzdHJpbmcpIHtcbiAgICB0aGlzLmVsZW1lbnQuc3JjID0gdmFsO1xuICB9XG5cbiAgZ2V0IGxvd3NyYygpIDogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50Lmxvd3NyYztcbiAgfVxuXG4gIHNldCBsb3dzcmModmFsIDogc3RyaW5nKSB7XG4gICAgdGhpcy5lbGVtZW50Lmxvd3NyYyA9IHZhbDtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9saWIvQXBwSW1hZ2UudHMiLCJpbXBvcnQge0FwcEVsZW1lbnROb2RlfSBmcm9tICcuL0FwcEVsZW1lbnROb2RlJztcblxuZXhwb3J0IGNsYXNzIEFwcElucHV0IGV4dGVuZHMgQXBwRWxlbWVudE5vZGUge1xuICBlbGVtZW50IDogSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3RydWN0b3IodHlwZSA6IHN0cmluZyA9ICd0ZXh0Jykge1xuICAgIHN1cGVyKCdpbnB1dCcpO1xuICAgIHRoaXMuZWxlbWVudC50eXBlID0gdHlwZTtcbiAgfVxuXG4gIGdldCB2YWx1ZSgpIDogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LnZhbHVlO1xuICB9XG5cbiAgc2V0IHZhbHVlKHZhbCA6IHN0cmluZykge1xuICAgIHRoaXMuZWxlbWVudC52YWx1ZSA9IHZhbDtcbiAgfVxuXG4gIGdldCBkZWZhdWx0VmFsdWUoKSA6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5kZWZhdWx0VmFsdWU7XG4gIH1cblxuICBzZXQgZGVmYXVsdFZhbHVlKHZhbCA6IHN0cmluZykge1xuICAgIHRoaXMuZWxlbWVudC5kZWZhdWx0VmFsdWUgPSB2YWw7XG4gIH1cblxuICBnZXQgY2hlY2tlZCgpIDogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuZWxlbWVudC5jaGVja2VkO1xuICB9XG5cbiAgc2V0IGNoZWNrZWQodmFsIDogYm9vbGVhbikge1xuICAgIHRoaXMuZWxlbWVudC5jaGVja2VkID0gdmFsO1xuICB9XG5cbiAgZ2V0IGRlZmF1bHRDaGVja2VkKCkgOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmRlZmF1bHRDaGVja2VkO1xuICB9XG5cbiAgc2V0IGRlZmF1bHRDaGVja2VkKHZhbCA6IGJvb2xlYW4pIHtcbiAgICB0aGlzLmVsZW1lbnQuZGVmYXVsdENoZWNrZWQgPSB2YWw7XG4gIH1cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL34vc291cmNlLW1hcC1sb2FkZXIhLi9zcmMvbGliL0FwcElucHV0LnRzIiwiaW1wb3J0IHtBcHBFbGVtZW50Tm9kZX0gZnJvbSAnLi9BcHBFbGVtZW50Tm9kZSc7XG5cbmV4cG9ydCBjbGFzcyBBcHBUZXh0QXJlYSBleHRlbmRzIEFwcEVsZW1lbnROb2RlIHtcbiAgZWxlbWVudCA6IEhUTUxUZXh0QXJlYUVsZW1lbnQ7XG4gIGNvbnN0cnVjdG9yKHZhbHVlIDogc3RyaW5nKSB7XG4gICAgc3VwZXIoJ3RleHRhcmVhJyk7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG5cbiAgZ2V0IHZhbHVlKCkgOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnQudmFsdWU7XG4gIH1cblxuICBzZXQgdmFsdWUodmFsIDogc3RyaW5nKSB7XG4gICAgdGhpcy5lbGVtZW50LnZhbHVlID0gdmFsO1xuICB9XG5cbiAgZ2V0IGRlZmF1bHRWYWx1ZSgpIDogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5lbGVtZW50LmRlZmF1bHRWYWx1ZTtcbiAgfVxuXG4gIHNldCBkZWZhdWx0VmFsdWUodmFsIDogc3RyaW5nKSB7XG4gICAgdGhpcy5lbGVtZW50LmRlZmF1bHRWYWx1ZSA9IHZhbDtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9saWIvQXBwVGV4dEFyZWEudHMiLCJpbXBvcnQge0FwcEVsZW1lbnQsIEFwcElucHV0fSBmcm9tICcuLic7XG5cbmV4cG9ydCBjbGFzcyBMaXN0SXRlbSBleHRlbmRzIEFwcEVsZW1lbnQge1xuICBjaGVja2JveCA6IEFwcElucHV0O1xuICBsYWJlbCA6IEFwcEVsZW1lbnQ7XG4gIGJ1dHRvbiA6IEFwcEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IodGV4dCA6IHN0cmluZykge1xuICAgIHN1cGVyKCdsaScpO1xuXG4gICAgbGV0IGNoZWNrYm94ID0gdGhpcy5jaGVja2JveCA9IG5ldyBBcHBJbnB1dCgnY2hlY2tib3gnKTtcbiAgICBsZXQgbGFiZWwgPSB0aGlzLmxhYmVsID0gbmV3IEFwcEVsZW1lbnQoJ2xhYmVsJywgdGV4dCk7XG4gICAgbGV0IGJ1dHRvbiA9IHRoaXMuYnV0dG9uID0gbmV3IEFwcEVsZW1lbnQoJ2J1dHRvbicsICdYJyk7XG5cbiAgICB0aGlzLmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICB0aGlzLmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICB0aGlzLmFwcGVuZENoaWxkKGJ1dHRvbik7XG5cbiAgICBsZXQgc2VsZiA9IHRoaXM7XG5cbiAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBzZWxmLnJlbW92ZSgpO1xuICAgIH0sIGZhbHNlKTtcbiAgfVxufVxuXG5leHBvcnQgY2xhc3MgTGlzdCBleHRlbmRzIEFwcEVsZW1lbnQge1xuICBpbnB1dCA6IEFwcElucHV0O1xuICBsaXN0IDogQXBwRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcignbGlzdCcpO1xuXG4gICAgbGV0IGlucHV0ID0gdGhpcy5pbnB1dCA9IG5ldyBBcHBJbnB1dCgpO1xuICAgIGxldCBsaXN0ID0gdGhpcy5saXN0ID0gbmV3IEFwcEVsZW1lbnQoJ3VsJyk7XG5cbiAgICB0aGlzLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICB0aGlzLmFwcGVuZENoaWxkKGxpc3QpO1xuXG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xuICAgICAgbGlzdC5hcHBlbmRDaGlsZChuZXcgTGlzdEl0ZW0oaW5wdXQudmFsdWUpKTtcbiAgICAgIGlucHV0LnZhbHVlID0gJyc7XG4gICAgfSwgZmFsc2UpO1xuICB9XG59XG5cblxubGV0IGxpc3QgPSBuZXcgTGlzdCgpO1xuXG5saXN0LmFwcGVuZFRvRE9NKGRvY3VtZW50LmJvZHkpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vfi9zb3VyY2UtbWFwLWxvYWRlciEuL3NyYy9leGFtcGxlL2xpc3QudHMiXSwic291cmNlUm9vdCI6IiJ9